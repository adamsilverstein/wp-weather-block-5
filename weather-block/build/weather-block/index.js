(()=>{"use strict";var e,t={542:(e,t,r)=>{const o=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,i=window.wp.element,s=window.wp.serverSideRender;var c=r.n(s);const h=window.wp.apiFetch;var d=r.n(h);const p=window.wp.url,u=window.ReactJSXRuntime,w=JSON.parse('{"UU":"create-block/weather-block"}');(0,o.registerBlockType)(w.UU,{edit:function({attributes:e,setAttributes:t}){const{location:r,units:o,displayMode:s}=e,[h,w]=(0,i.useState)(null),[b,k]=(0,i.useState)(null);return(0,i.useEffect)(()=>{r&&(k(null),function(e){const{location:t,units:r}=e,o=(0,p.addQueryArgs)("/weather-block/v1/weather",{location:t,units:r});return d()({path:o})}(e).then(e=>w(e)).catch(e=>k(e.message)))},[r,o,e]),(0,u.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,u.jsx)(a.InspectorControls,{children:(0,u.jsxs)(n.PanelBody,{title:(0,l.__)("Settings","weather-block"),children:[(0,u.jsx)(n.TextControl,{label:(0,l.__)("Location","weather-block"),value:r,onChange:e=>t({location:e})}),(0,u.jsx)(n.ToggleControl,{label:(0,l.__)("Units","weather-block"),help:"metric"===o?(0,l.__)("Celsius","weather-block"):(0,l.__)("Fahrenheit","weather-block"),checked:"imperial"===o,onChange:()=>t({units:"metric"===o?"imperial":"metric"})}),(0,u.jsx)(n.RadioControl,{label:(0,l.__)("Display Mode","weather-block"),selected:s,options:[{label:(0,l.__)("Light","weather-block"),value:"light"},{label:(0,l.__)("Dark","weather-block"),value:"dark"},{label:(0,l.__)("Auto","weather-block"),value:"auto"}],onChange:e=>t({displayMode:e})})]})}),b&&(0,u.jsx)("p",{className:"error",children:b}),!r&&(0,u.jsx)("p",{children:(0,l.__)("Please enter a location.","weather-block")}),r&&!h&&!b&&(0,u.jsx)("p",{children:(0,l.__)("Loading…","weather-block")}),h&&(0,u.jsxs)("div",{className:`weather-block-display ${s}`,children:[(0,u.jsx)("h3",{children:h.city}),(0,u.jsxs)("p",{className:"temp",children:[h.temperature,"°"]}),(0,u.jsx)("img",{src:`https://openweathermap.org/img/wn/${h.icon}.png`,alt:h.description}),(0,u.jsx)("p",{className:"description",children:h.description}),(0,u.jsxs)("p",{className:"humidity",children:[(0,l.__)("Humidity:","weather-block")," ",h.humidity,"%"]})]}),(0,u.jsx)(c(),{block:"create-block/weather-block",attributes:e})]})},save:function(){return null}})}},r={};function o(e){var l=r[e];if(void 0!==l)return l.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,r,l,a)=>{if(!r){var n=1/0;for(h=0;h<e.length;h++){for(var[r,l,a]=e[h],i=!0,s=0;s<r.length;s++)(!1&a||n>=a)&&Object.keys(o.O).every(e=>o.O[e](r[s]))?r.splice(s--,1):(i=!1,a<n&&(n=a));if(i){e.splice(h--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[r,l,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={596:0,108:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var l,a,[n,i,s]=r,c=0;if(n.some(t=>0!==e[t])){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var h=s(o)}for(t&&t(r);c<n.length;c++)a=n[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(h)},r=globalThis.webpackChunkweather_block=globalThis.webpackChunkweather_block||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=o.O(void 0,[108],()=>o(542));l=o.O(l)})();